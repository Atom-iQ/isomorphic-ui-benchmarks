var app=function(){function e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var t=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,function(e,t){return t={exports:{}},function(e,t){!function(e,n){!function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,n){var o,r,i,l;for(l=arguments.length;2<l--;)U.push(arguments[l]);for(n&&n.children&&(U.length||U.push(n.children),delete n.children);U.length;)if((i=U.pop())instanceof Array)for(l=i.length;l--;)U.push(i[l]);else null!=i&&!0!==i&&!1!==i&&("number"==typeof i&&(i=String(i)),(l="string"==typeof i)&&r?o[o.length-1]+=i:((o||(o=[])).push(i),r=l));return o=new t(e,n||void 0,o||M),S.vnode&&S.vnode(o),o}function o(e,t){if(t)for(var n in t)e[n]=t[n];return e}function r(e){return"function"==typeof e}function i(e){return"string"==typeof e}function l(e,t,n){var o=t.split(".");return function(t){var r=t&&t.target||this,l={},s=l;if(i(n))for(var r=n.split("."),a=0;a<r.length&&t;a++)t=t[r[a]];else t=r.nodeName?r.type.match(/^che|rad/)?r.checked:r.value:t;for(r=0;r<o.length-1;r++)s=s[o[r]]||(s[o[r]]=!r&&e.state[o[r]]||{});s[o[r]]=t,e.setState(l)}}function s(e){!e._dirty&&(e._dirty=!0)&&1==O.push(e)&&(S.debounceRendering||E)(a)}function a(){var e,t=O;for(O=[];e=t.pop();)e._dirty&&N(e)}function c(e){return(e=e&&e.nodeName)&&r(e)&&!(e.prototype&&e.prototype.render)}function p(e,t){return e.nodeName(f(e),t||W)}function u(e,t){return e.normalizedNodeName===t||B(e.nodeName)===B(t)}function f(e){var t=o({},e.attributes);if(t.children=e.children,e=e.nodeName.defaultProps)for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function d(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n,o,l){if("className"===t&&(t="class"),"class"===t&&o&&"object"==typeof o){var s,a="";for(s in o)o[s]&&(a&&(a+=" "),a+=s);o=a}if("key"!==t)if("class"!==t||l)if("style"===t){if((!o||i(o)||i(n))&&(e.style.cssText=o||""),o&&"object"==typeof o){if(!i(n))for(var c in n)c in o||(e.style[c]="");for(c in o)e.style[c]="number"!=typeof o[c]||D[c]?o[c]:o[c]+"px"}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1])n=e._listeners||(e._listeners={}),t=B(t.substring(2)),o?n[t]||e.addEventListener(t,m,!!I[t]):n[t]&&e.removeEventListener(t,m,!!I[t]),n[t]=o;else if("list"!==t&&"type"!==t&&!l&&t in e){try{e[t]=null==o?"":o}catch(e){}null!=o&&!1!==o||e.removeAttribute(t)}else n=l&&t.match(/^xlink\:?(.+)/),null==o||!1===o?n?e.removeAttributeNS("http://www.w3.org/1999/xlink",B(n[1])):e.removeAttribute(t):"object"==typeof o||r(o)||(n?e.setAttributeNS("http://www.w3.org/1999/xlink",B(n[1]),o):e.setAttribute(t,o));else e.className=o||""}function m(e){return this._listeners[e.type](S.event&&S.event(e)||e)}function v(e,t){var n=B(e);return e=L[n]&&L[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)),e.normalizedNodeName=n,e}function y(){for(var e;e=z.pop();)S.afterMount&&S.afterMount(e),e.componentDidMount&&e.componentDidMount()}function _(e,t,n,o,r,i){return A++||(H=r&&void 0!==r.ownerSVGElement,R=e&&!(j in e)),e=b(e,t,n,o),r&&e.parentNode!==r&&r.appendChild(e),--A||(R=!1,i||y()),e}function b(e,t,n,o){for(var l=t&&t.attributes&&t.attributes.ref;c(t);)t=p(t,n);if(null==t&&(t=""),i(t))return e&&e instanceof Text&&e.parentNode?e.nodeValue!=t&&(e.nodeValue=t):(e&&x(e),e=document.createTextNode(t)),e;if(r(t.nodeName)){var l=e,s=t,a=l&&l._component,m=a;t=l;for(var y=e=a&&l._componentConstructor===s.nodeName,_=f(s);a&&!y&&(a=a._parentComponent);)y=a.constructor===s.nodeName;return a&&y&&(!o||a._component)?(g(a,_,3,n,o),l=a.base):(m&&!e&&(w(m,!0),l=t=null),a=C(s.nodeName,_,n),l&&!a.nextBase&&(a.nextBase=l,t=null),g(a,_,1,n,o),l=a.base,t&&l!==t&&(t._component=null,x(t))),l}var s=e,N=String(t.nodeName),a=H,y=t.children;if(H="svg"===N||"foreignObject"!==N&&H,e){if(!u(e,N)){for(s=v(N,H);e.firstChild;)s.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(s,e),x(e)}}else s=v(N,H);if(N=s.firstChild,!(e=s[j])){s[j]=e={};for(var k=s.attributes,S=k.length;S--;)e[k[S].name]=k[S].value}if(!R&&y&&1===y.length&&"string"==typeof y[0]&&N&&N instanceof Text&&!N.nextSibling)N.nodeValue!=y[0]&&(N.nodeValue=y[0]);else if(y&&y.length||N){var U,M,N=s,T=!!e.dangerouslySetInnerHTML,k=N.childNodes,S=[],B={},P=0,E=0,W=k.length,D=0,I=y&&y.length;if(W)for(var O=0;O<W;O++){M=k[O];var L=M[j];U=I?(_=M._component)?_.__key:L?L.key:null:null,null!=U?(P++,B[U]=M):(R||T||L||M instanceof Text)&&(S[D++]=M)}if(I)for(O=0;O<I;O++){if(T=y[O],M=null,null!=(U=T.key))P&&U in B&&(M=B[U],B[U]=void 0,P--);else if(!M&&E<D)for(U=E;U<D;U++){if(L=_=S[U])var L=_,z=T,L=i(z)?L instanceof Text:i(z.nodeName)?!L._componentConstructor&&u(L,z.nodeName):r(z.nodeName)?!L._componentConstructor||L._componentConstructor===z.nodeName||c(z):void 0;if(L){M=_,S[U]=void 0,U===D-1&&D--,U===E&&E++;break}}(M=b(M,T,n,o))&&M!==N&&(O>=W?N.appendChild(M):M!==k[O]&&(M===k[O+1]&&d(k[O]),N.insertBefore(M,k[O]||null)))}if(P)for(O in B)B[O]&&x(B[O]);for(;E<=D;)(M=S[D--])&&x(M)}n=s,o=t.attributes,t=e;for(m in t)o&&m in o||null==t[m]||h(n,m,t[m],t[m]=void 0,H);if(o)for(m in o)"children"===m||"innerHTML"===m||m in t&&o[m]===("value"===m||"checked"===m?n[m]:t[m])||h(n,m,t[m],t[m]=o[m],H);return l&&(e.ref=l)(s),H=a,s}function x(e,t){var n=e._component;if(n)w(n,!t);else for(e[j]&&e[j].ref&&e[j].ref(null),t||(d(e),e instanceof Element&&(e._component=e._componentConstructor=null,n=e.normalizedNodeName||B(e.nodeName),(L[n]||(L[n]=[])).push(e)));n=e.lastChild;)x(n,t)}function C(e,t,n){var o=new e(t,n),r=V[e.name];if(k.call(o,t,n),r)for(t=r.length;t--;)if(r[t].constructor===e){o.nextBase=r[t].nextBase,r.splice(t,1);break}return o}function g(e,t,n,o,r){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===S.syncComponentUpdates&&e.base?s(e):N(e,1,r)),e.__ref&&e.__ref(e))}function N(e,t,n,i){if(!e._disable){var l,s,a,u,d=e.props,h=e.state,m=e.context,v=e.prevProps||d,b=e.prevState||h,k=e.prevContext||m,U=e.base;u=e.nextBase;var M=U||u,T=e._component;if(U&&(e.props=v,e.state=b,e.context=k,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(d,h,m)?l=!0:e.componentWillUpdate&&e.componentWillUpdate(d,h,m),e.props=d,e.state=h,e.context=m),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!l){for(e.render&&(s=e.render(d,h,m)),e.getChildContext&&(m=o(o({},m),e.getChildContext()));c(s);)s=p(s,m);var B,P,d=s&&s.nodeName;if(r(d)?(P=f(s),(a=T)&&a.constructor===d&&P.key==a.__key?g(a,P,1,m):(B=a,a=C(d,P,m),a.nextBase=a.nextBase||u,a._parentComponent=e,e._component=a,g(a,P,0,m),N(a,1,n,!0)),P=a.base):(u=M,(B=T)&&(u=e._component=null),(M||1===t)&&(u&&(u._component=null),P=_(u,s,m,n||!U,M&&M.parentNode,!0))),M&&P!==M&&a!==T&&(a=M.parentNode)&&P!==a&&(a.replaceChild(P,M),B||(M._component=null,x(M))),B&&w(B,P!==M),(e.base=P)&&!i){for(B=M=e;B=B._parentComponent;)(M=B).base=P;P._component=M,P._componentConstructor=M.constructor}}if(!U||n?z.unshift(e):l||(e.componentDidUpdate&&e.componentDidUpdate(v,b,k),S.afterUpdate&&S.afterUpdate(e)),l=e._renderCallbacks)for(;n=l.pop();)n.call(e);A||i||y()}}function w(e,t){S.beforeUnmount&&S.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var o=e._component;if(o)w(o,t);else if(n){if(n[j]&&n[j].ref&&n[j].ref(null),e.nextBase=n,t){d(n);var o=e.constructor.name,r=V[o];r?r.push(e):V[o]=[e]}for(;o=n.lastChild;)x(o,!t)}e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function k(e,t){this._dirty=!0,this.context=t,this.props=e,this.state||(this.state={})}var S={},U=[],M=[],T={},B=function(e){return T[e]||(T[e]=e.toLowerCase())},P="undefined"!=typeof Promise&&Promise.resolve(),E=P?function(e){P.then(e)}:setTimeout,W={},j="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",D={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},I={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},O=[],L={},z=[],A=0,H=!1,R=!1,V={};o(k.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={});return n[e+t]||(n[e+t]=l(this,e,t))},setState:function(e,t){var n=this.state;this.prevState||(this.prevState=o({},n)),o(n,r(e)?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),s(this)},forceUpdate:function(){N(this,2)},render:function(){}}),e.h=n,e.cloneElement=function(e,t){return n(e.nodeName,o(o({},e.attributes),t),2<arguments.length?[].slice.call(arguments,2):e.children)},e.Component=k,e.render=function(e,t,n){return _(n,e,{},!1,t)},e.rerender=a,e.options=S}(t)}()}(t,t.exports),t.exports}()),n=t.h,o=function(t){function o(e){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");if(e=t.call(this,e),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e=!e||"object"!=typeof e&&"function"!=typeof e?this:e,e.state={selectedColorIndex:0},e}return e(o,t),o.prototype.componentDidMount=function(){this.props.onMount&&this.props.onMount(this),window.onMount()},o.prototype.componentDidUpdate=function(){this.props.onUpdate&&this.props.onUpdate(this)},o.prototype.handleColorClick=function(e){this.setState({selectedColorIndex:e})},o.prototype.render=function(){var e=this.props.colors,t=this.handleColorClick,o=this.state.selectedColorIndex,r=e[o],i=this;return n("div",{class:"colors"},n("h1",null,"Choose your favorite color:"),n("div",{class:"colors"},function(e){return e.length?n("ul",null,e.map(function(e,r){var l={backgroundColor:e.hex},s="color";return o===r&&(s+=" selected"),n("li",{className:s,style:l,onClick:t.bind(i,r)},e.name)})):n("div",null,"No colors!")}(e)),n("div",null,"You chose:",n("div",{class:"chosen-color"},r.name)))},o}(t.Component),r=t.h,i=t.render,t=document.getElementById("mount");return window.colors&&(i(r(o,{colors:window.colors}),t,t.firstChild),console.log("Re-rendering on client completed")),window.addBench("preact",function(e,t){var n,l,s=0;return i(r(o,{colors:t,onMount:function(e){n=e},onUpdate:function(){l()}}),e),function(e){n.setState({selectedColorIndex:++s%t.length}),l=e}}),{}}();